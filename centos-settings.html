<!-- build time:Wed Apr 28 2021 10:40:48 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><script>var _hmt=_hmt||[]</script><script async src="//hm.baidu.com/hm.js?75b7fac43d1cbbf321521df08f361531"></script><script>!function(t,h,e,j,n,s){t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:924907,hjsv:6},n=h.getElementsByTagName("head")[0],s=h.createElement("script"),s.async=1,s.src=e+t._hjSettings.hjid+j+t._hjSettings.hjsv,n.appendChild(s)}(window,document,"//static.hotjar.com/c/hotjar-",".js?sv=")</script><meta charset="utf-8"><title>CentOS配置文档 | Mingyu&#39;s Blog | 我荒废的今日，正是昨天殒身之人祈求的明日</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#3F51B5"><meta name="keywords" content="CentOS,Python,NodeJs,MySql,Nginx"><meta name="description" content="此文档主要简述在阿里云安装CentOS并配置相关运行环境：服务器信息系统：centos 7 (自带python 2.7.5)服务器配置1. 配置免密码登录(1) 本机生成rsa密钥在本机生成rsa加密的密钥，下面命令会在指定的目录生成一个私有和一个公有rsa密钥，将私有密钥保存好，等配置好免密码登录后，登录服务器时将需要此文件1234567891011121314151617181920$ ssh"><meta name="keywords" content="CentOS,Python,NodeJs,MySql,Nginx"><meta property="og:type" content="article"><meta property="og:title" content="CentOS配置文档"><meta property="og:url" content="https://www.mingyugu.com/centos-settings.html"><meta property="og:site_name" content="Mingyu&#39;s Blog"><meta property="og:description" content="此文档主要简述在阿里云安装CentOS并配置相关运行环境：服务器信息系统：centos 7 (自带python 2.7.5)服务器配置1. 配置免密码登录(1) 本机生成rsa密钥在本机生成rsa加密的密钥，下面命令会在指定的目录生成一个私有和一个公有rsa密钥，将私有密钥保存好，等配置好免密码登录后，登录服务器时将需要此文件1234567891011121314151617181920$ ssh"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://static.mingyugu.com/centos-settings-1.png-blog.post"><meta property="og:image" content="https://static.mingyugu.com/centos-settings-2.png-blog.post"><meta property="og:updated_time" content="2016-12-12T06:32:25.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="CentOS配置文档"><meta name="twitter:description" content="此文档主要简述在阿里云安装CentOS并配置相关运行环境：服务器信息系统：centos 7 (自带python 2.7.5)服务器配置1. 配置免密码登录(1) 本机生成rsa密钥在本机生成rsa加密的密钥，下面命令会在指定的目录生成一个私有和一个公有rsa密钥，将私有密钥保存好，等配置好免密码登录后，登录服务器时将需要此文件1234567891011121314151617181920$ ssh"><meta name="twitter:image" content="https://static.mingyugu.com/centos-settings-1.png-blog.post"><link rel="alternate" type="application/atom+xml" title="Mingyu&#39;s Blog" href="/atom.xml"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/style.css?v=1.7.2-1"><script>window.lazyScripts=[]</script><link rel="stylesheet" href="//unpkg.com/aplayer@1.10.1/dist/APlayer.min.css"></head><body><div id="loading" class="active"></div><aside id="menu" class="hide"><div class="inner flex-row-vertical"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"><i class="icon icon-lg icon-close"></i></a><div class="brand-wrap" style="background-image:url(//static.mingyugu.com/brand.jpg-blog.img)"><div class="brand"><a href="/" class="avatar waves-effect waves-circle waves-light"><img src="//static.mingyugu.com/avatar.jpg-blog.img"></a><hgroup class="introduce"><h5 class="nickname">Mingyu Gu</h5><a href="mailto:mingyugu0410@gmail.com" title="mingyugu0410@gmail.com" class="mail">mingyugu0410@gmail.com</a></hgroup></div></div><div class="scroll-wrap flex-col"><ul class="nav"><li class="waves-block waves-effect"><a href="/"><i class="icon icon-lg icon-home"></i> 主页</a></li><li class="waves-block waves-effect"><a href="/archives"><i class="icon icon-lg icon-archives"></i> 归档</a></li><li class="waves-block waves-effect"><a href="/tags"><i class="icon icon-lg icon-tags"></i> 标签</a></li><li class="waves-block waves-effect"><a href="/categories"><i class="icon icon-lg icon-th-list"></i> 分类</a></li><li class="waves-block waves-effect"><a href="/about"><i class="icon icon-lg icon-user"></i> 关于</a></li><li class="waves-block waves-effect"><a href="https://github.com/mygu" target="_blank"><i class="icon icon-lg icon-github"></i> Github</a></li><li class="waves-block waves-effect"><a href="https://bitbucket.org/mygu" target="_blank"><i class="icon icon-lg icon-bitbucket"></i> Bitbucket</a></li></ul><div class="aplayer" style="display:none" data-id="18155754" data-server="netease" data-type="song" data-autoplay="true"></div></div></div></aside><main id="main"><header class="top-header" id="header"><div class="flex-row"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"><i class="icon icon-lg icon-navicon"></i></a><div class="flex-col header-title ellipsis"></div><div class="search-wrap" id="search-wrap"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i> </a><input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"><i class="icon icon-lg icon-search"></i></a></div><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare"><i class="icon icon-lg icon-share-alt"></i></a></div></header><header class="content-header post-header"><div class="container fade-scale"><h1 class="title">CentOS配置文档</h1><h5 class="subtitle"><time datetime="2016-12-12T06:32:25.000Z" itemprop="datePublished" class="page-time">2016-12-12</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/后端/">后端</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/后端/操作系统/">操作系统</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/后端/操作系统/CentOS/">CentOS</a></li></ul></li></ul></li></ul></h5></div></header><div class="container body-wrap"><aside id="toc-div" class="post-widget"><nav class="post-toc-wrap post-toc-shrink" id="post-toc"><h4>TOC</h4><ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#服务器信息"><span class="post-toc-number">1.</span> <span class="post-toc-text">服务器信息</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#服务器配置"><span class="post-toc-number">2.</span> <span class="post-toc-text">服务器配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-配置免密码登录"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">1. 配置免密码登录</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-本机生成rsa密钥"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">(1) 本机生成rsa密钥</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-登录服务器"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">(2) 登录服务器</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-服务器生成rsa密钥"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">(3) 服务器生成rsa密钥</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-上传本机公有密钥到服务器"><span class="post-toc-number">2.1.4.</span> <span class="post-toc-text">(4) 上传本机公有密钥到服务器</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-使用密钥登录服务器"><span class="post-toc-number">2.1.5.</span> <span class="post-toc-text">(5) 使用密钥登录服务器</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-关闭密码登录"><span class="post-toc-number">2.1.6.</span> <span class="post-toc-text">(6) 关闭密码登录</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-服务器安装部署"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">2. 服务器安装部署</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-更新系统"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">(1) 更新系统</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-安装系统运行必备库"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">(2) 安装系统运行必备库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-克隆项目"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">(3) 克隆项目</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-创建Python虚拟环境"><span class="post-toc-number">2.2.4.</span> <span class="post-toc-text">(4) 创建Python虚拟环境</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-安装项目依赖库"><span class="post-toc-number">2.2.5.</span> <span class="post-toc-text">(5) 安装项目依赖库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-安装数据库环境"><span class="post-toc-number">2.2.6.</span> <span class="post-toc-text">(6) 安装数据库环境</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-创建mysql数据库"><span class="post-toc-number">2.2.7.</span> <span class="post-toc-text">(7) 创建mysql数据库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#8-配置项目依赖的环境变量"><span class="post-toc-number">2.2.8.</span> <span class="post-toc-text">(8) 配置项目依赖的环境变量</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#9-同步数据库"><span class="post-toc-number">2.2.9.</span> <span class="post-toc-text">(9) 同步数据库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#10-收集静态文件"><span class="post-toc-number">2.2.10.</span> <span class="post-toc-text">(10) 收集静态文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#11-安装nginx"><span class="post-toc-number">2.2.11.</span> <span class="post-toc-text">(11) 安装nginx</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#12-配置supervisor-nginx-uWSGI"><span class="post-toc-number">2.2.12.</span> <span class="post-toc-text">(12) 配置supervisor/nginx/uWSGI</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#web服务器配置"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">web服务器配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-安装node-js"><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">(1) 安装node.js</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-安装npm"><span class="post-toc-number">2.3.2.</span> <span class="post-toc-text">(2) 安装npm</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-安装bower"><span class="post-toc-number">2.3.3.</span> <span class="post-toc-text">(3) 安装bower</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-安装gulp"><span class="post-toc-number">2.3.4.</span> <span class="post-toc-text">(4) 安装gulp</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-安装node-modules"><span class="post-toc-number">2.3.5.</span> <span class="post-toc-text">(5) 安装node modules</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-安装bower-components"><span class="post-toc-number">2.3.6.</span> <span class="post-toc-text">(6) 安装bower components</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-编译"><span class="post-toc-number">2.3.7.</span> <span class="post-toc-text">(7) 编译</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-服务器supervisord自启动"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">3. 服务器supervisord自启动</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-拷贝supervisord文件到-etc-rc-d-init-d-supervisord"><span class="post-toc-number">2.4.1.</span> <span class="post-toc-text">(1) 拷贝supervisord文件到/etc/rc.d/init.d/supervisord</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-改变supervisord文件全选为可执行"><span class="post-toc-number">2.4.2.</span> <span class="post-toc-text">(2) 改变supervisord文件全选为可执行</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-添加自启动"><span class="post-toc-number">2.4.3.</span> <span class="post-toc-text">(3) 添加自启动</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-手动启动supervisord"><span class="post-toc-number">2.4.4.</span> <span class="post-toc-text">(4) 手动启动supervisord</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-centos-7-nginx自动启动"><span class="post-toc-number">2.4.5.</span> <span class="post-toc-text">(5) centos 7 nginx自动启动</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-服务器常见问题"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">4. 服务器常见问题</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-nginx-403-Forbidden-errors"><span class="post-toc-number">2.5.1.</span> <span class="post-toc-text">(1) nginx 403 Forbidden errors</span></a></li></ol></li></ol></li></ol></nav></aside><article id="post-centos-settings" class="post-article article-type-post fade" itemprop="blogPost"><div class="post-card"><h1 class="post-card-title">CentOS配置文档</h1><div class="post-meta"><time class="post-time" title="2016-12-12 14:32:25" datetime="2016-12-12T06:32:25.000Z" itemprop="datePublished">2016-12-12</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/后端/">后端</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/后端/操作系统/">操作系统</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/后端/操作系统/CentOS/">CentOS</a></li></ul></li></ul></li></ul><span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none"><i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span></span></div><div class="post-content" id="post-content" itemprop="postContent"><hr><p>此文档主要简述在阿里云安装CentOS并配置相关运行环境：</p><hr><h1 id="服务器信息"><a href="#服务器信息" class="headerlink" title="服务器信息"></a>服务器信息</h1><blockquote><p>系统：centos 7 (自带python 2.7.5)</p></blockquote><h1 id="服务器配置"><a href="#服务器配置" class="headerlink" title="服务器配置"></a>服务器配置</h1><h2 id="1-配置免密码登录"><a href="#1-配置免密码登录" class="headerlink" title="1. 配置免密码登录"></a>1. 配置免密码登录</h2><h3 id="1-本机生成rsa密钥"><a href="#1-本机生成rsa密钥" class="headerlink" title="(1) 本机生成rsa密钥"></a>(1) 本机生成rsa密钥</h3><blockquote><p>在本机生成rsa加密的密钥，下面命令会在指定的目录生成一个私有和一个公有rsa密钥，将私有密钥保存好，等配置好免密码登录后，登录服务器时将需要此文件</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -f ~/temp/ljflxxglpt.pem</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in /home/gmy/temp/ljflxxglpt.pem.</span><br><span class="line">Your public key has been saved in /home/gmy/temp/ljflxxglpt.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">7a:9c:b2:9c:8e:4e:f4:af:de:70:77:b9:52:fd:44:97 personalid</span><br><span class="line">The key&apos;s randomart image is:</span><br><span class="line">+--[ RSA 2048]----+</span><br><span class="line">|         |</span><br><span class="line">|         |</span><br><span class="line">|        .|</span><br><span class="line">|        Eo|</span><br><span class="line">|  .  S  . ..|</span><br><span class="line">|  . . o . ... .|</span><br><span class="line">|  . = = ..o o |</span><br><span class="line">|  . o X ... . .|</span><br><span class="line">|  .ooB.o ..  |</span><br><span class="line">+-----------------+</span><br></pre></td></tr></table></figure><h3 id="2-登录服务器"><a href="#2-登录服务器" class="headerlink" title="(2) 登录服务器"></a>(2) 登录服务器</h3><blockquote><p>第一次登录使用用户名密码的方式</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@120.27.140.104</span><br></pre></td></tr></table></figure><h3 id="3-服务器生成rsa密钥"><a href="#3-服务器生成rsa密钥" class="headerlink" title="(3) 服务器生成rsa密钥"></a>(3) 服务器生成rsa密钥</h3><blockquote><p>服务器生成rsa密钥，主要目的是为了生成ssh目录以及后面从代码仓库clone代码的权限问题。生成的ssh目录变更权限为所有者可读写(700)，目的是为了配置免密码登录服务器</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen</span><br><span class="line">$ chmod 700 ~/.ssh</span><br></pre></td></tr></table></figure><h3 id="4-上传本机公有密钥到服务器"><a href="#4-上传本机公有密钥到服务器" class="headerlink" title="(4) 上传本机公有密钥到服务器"></a>(4) 上传本机公有密钥到服务器</h3><blockquote><p>把刚刚在本机生成的公有密钥上传到服务器并添加到authorized_keys中</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp ~/temp/ljflxxglpt.pub root@120.27.140.230:~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><h3 id="5-使用密钥登录服务器"><a href="#5-使用密钥登录服务器" class="headerlink" title="(5) 使用密钥登录服务器"></a>(5) 使用密钥登录服务器</h3><blockquote><p>使用本机的私有密钥登录已经存储过本机公有密钥的服务器</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -i ~/temp/ljflxxglpt.pem root@120.27.140.230</span><br></pre></td></tr></table></figure><h3 id="6-关闭密码登录"><a href="#6-关闭密码登录" class="headerlink" title="(6) 关闭密码登录"></a>(6) 关闭密码登录</h3><blockquote><p>关闭密码登录只使用密钥登录可以防止暴力破解，设置完成后重启服务器</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/ssh/sshd_config</span><br><span class="line">#PasswordAuthentication yes &gt; PasswordAuthentication no</span><br></pre></td></tr></table></figure><hr><h2 id="2-服务器安装部署"><a href="#2-服务器安装部署" class="headerlink" title="2. 服务器安装部署"></a>2. 服务器安装部署</h2><h3 id="1-更新系统"><a href="#1-更新系统" class="headerlink" title="(1) 更新系统"></a>(1) 更新系统</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum update -y</span><br></pre></td></tr></table></figure><h3 id="2-安装系统运行必备库"><a href="#2-安装系统运行必备库" class="headerlink" title="(2) 安装系统运行必备库"></a>(2) 安装系统运行必备库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install gcc git libtiff-devel libjpeg-devel libzip-devel freetype-devel</span><br><span class="line">lcms2-devel libwebp-devel tcl-devel tk-devel mysql mysql-devel memcached libmemcacheddevel</span><br><span class="line">nginx mysql-devel python-devel libffi-devel  -y</span><br></pre></td></tr></table></figure><h3 id="3-克隆项目"><a href="#3-克隆项目" class="headerlink" title="(3) 克隆项目"></a>(3) 克隆项目</h3><blockquote><p>添加服务器生成的公有密钥到代码仓库，然后运行git命令clone项目将不需要权限验证</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="//static.mingyugu.com/centos-settings-1.png-blog.post" alt="服务器公钥"></div><div class="image-caption">服务器公钥</div></figure><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="//static.mingyugu.com/centos-settings-2.png-blog.post" alt="仓库添加公钥"></div><div class="image-caption">仓库添加公钥</div></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone git@bitbucket.org:mingyugu/ljflxxglpt-api.git</span><br></pre></td></tr></table></figure><h3 id="4-创建Python虚拟环境"><a href="#4-创建Python虚拟环境" class="headerlink" title="(4) 创建Python虚拟环境"></a>(4) 创建Python虚拟环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo easy_install virtualenv</span><br><span class="line">$ virtualenv env</span><br><span class="line">$ source env/bin/activate</span><br></pre></td></tr></table></figure><h3 id="5-安装项目依赖库"><a href="#5-安装项目依赖库" class="headerlink" title="(5) 安装项目依赖库"></a>(5) 安装项目依赖库</h3><blockquote><p>克隆项目到服务器后需要安装项目依赖库</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/ljflxxglpt-api/</span><br><span class="line">$ pip install -r requirements.txt</span><br></pre></td></tr></table></figure><h3 id="6-安装数据库环境"><a href="#6-安装数据库环境" class="headerlink" title="(6) 安装数据库环境"></a>(6) 安装数据库环境</h3><blockquote><p>MySQL是一个关系型数据库管理系统，安装可以参考以下链接</p></blockquote><p><a href="http://www.mysql.com/downloads/" target="_blank" rel="noopener">http://www.mysql.com/downloads/</a></p><blockquote><p>PostgreSQL是以加州大学伯克利分校计算机系开发的POSTGRES，现在已经更名为PostgreSQL，版本4.2为基础的对象关系型数据库管理系统（ORDBMS）。PostgreSQL支持大部分SQL标准并且提供了许多其他现代特性：复杂查询、外键、触发器、视图、事务完整性、MVCC。同样，PostgreSQL可以用许多方法扩展，比如，通过增加新的数据类型、函数、操作符、聚集函数、索引。免费使用、修改、和分发 PostgreSQL，不管是私用、商用、还是学术研究使用。</p></blockquote><p><a href="http://www.postgresql.org/download/linux/redhat/" target="_blank" rel="noopener">http://www.postgresql.org/download/linux/redhat/</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ yum install postgresql-server</span><br><span class="line">$ yum install postgresql-devel</span><br><span class="line">$ service postgresql initdb</span><br><span class="line">$ chkconfig postgresql on</span><br><span class="line">$ sudo -u postgres psql</span><br><span class="line">postgres=# \password postgres</span><br><span class="line">postgres=# CREATE USER lettoo_base_api WITH PASSWORD &apos;password&apos;;</span><br><span class="line">postgres=# CREATE DATABASE lettoo_base_api OWNER lettoo_base_api;</span><br><span class="line">postgres=# GRANT ALL PRIVILEGES ON DATABASE lettoo_base_api to lettoo_base_api;</span><br><span class="line">postgres=# \du</span><br><span class="line">postgres=# \q</span><br><span class="line">$ exit</span><br><span class="line">$ vi /var/lib/pgsql/data/pg_hba.conf</span><br><span class="line">local	all	all	peer &gt; local	all	all	md5</span><br><span class="line">$ systemctl restart postgresql.service</span><br><span class="line">$ psql -U lettoo_base_api -d lettoo_base_api</span><br></pre></td></tr></table></figure><h3 id="7-创建mysql数据库"><a href="#7-创建mysql数据库" class="headerlink" title="(7) 创建mysql数据库"></a>(7) 创建mysql数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; DROP DATABASE ljflxxglpt;</span><br><span class="line">mysql&gt; CREATE DATABASE ljflxxglpt CHARACTER SET utf8;</span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON ljflxxglpt.* TO &quot;ljflxxglpt&quot;@&quot;%&quot; IDENTIFIED BY &quot;password&quot;;</span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br><span class="line">mysql&gt; EXIT;</span><br></pre></td></tr></table></figure><h3 id="8-配置项目依赖的环境变量"><a href="#8-配置项目依赖的环境变量" class="headerlink" title="(8) 配置项目依赖的环境变量"></a>(8) 配置项目依赖的环境变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi ~/.bashrc</span><br></pre></td></tr></table></figure><p>添加以下配置</p><blockquote><p>export ALIYUN_OSS_ACCESS_KEY_ID=’mjpa3WKngENt5ijN’<br>export ALIYUN_OSS_ACCESS_KEY_SECRET=’0XdA1bgi3eAV5usbiWqaAtI7QlbtaJ’<br>export ALIYUN_OSS_BUCKET_NAME=’ljflxxglpt’<br>export ALIYUN_OSS_ACCESS_HOST=’ljflxxglpt.oss-cn-hangzhou-internal.aliyuncs.com’<br>export DATABASE_URL=’mysql://ljflxxglpt:<a href="mailto:password@rds68fqj481t1m274fg2.mysql.rds.aliyuncs.com" target="_blank" rel="noopener">password@rds68fqj481t1m274fg2.mysql.rds.aliyuncs.com</a>:3306/ljflxxglpt’<br>export DJANGO_SECRET_KEY=’51c3184f-0168-4314-b707-352b48578eb7’<br>export <a href="mailto:EMAIL_USERNAME=&#39;ljflxxglpt@163.com" target="_blank" rel="noopener">EMAIL_USERNAME=&#39;ljflxxglpt@163.com</a>‘<br>export EMAIL_PASSWORD=’ljflxxglpt123456’</p></blockquote><p>让系统即刻刷新环境变量</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ source ~/.bashrc</span><br></pre></td></tr></table></figure><h3 id="9-同步数据库"><a href="#9-同步数据库" class="headerlink" title="(9) 同步数据库"></a>(9) 同步数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python manage.py syncdb --settings=config.settings.production</span><br><span class="line">$ python manage.py migrate --settings=config.settings.production</span><br></pre></td></tr></table></figure><h3 id="10-收集静态文件"><a href="#10-收集静态文件" class="headerlink" title="(10) 收集静态文件"></a>(10) 收集静态文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python manage.py collectstatic --settings=config.settings.production</span><br></pre></td></tr></table></figure><h3 id="11-安装nginx"><a href="#11-安装nginx" class="headerlink" title="(11) 安装nginx"></a>(11) 安装nginx</h3><p>下载对应当前系统版本的nginx包(package)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget  http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</span><br></pre></td></tr></table></figure><p>建立nginx的yum仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -ivh nginx-release-centos-7-0.el7.ngx.noarch.rpm</span><br></pre></td></tr></table></figure><p>下载并安装nginx</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install nginx</span><br></pre></td></tr></table></figure><h3 id="12-配置supervisor-nginx-uWSGI"><a href="#12-配置supervisor-nginx-uWSGI" class="headerlink" title="(12) 配置supervisor/nginx/uWSGI"></a>(12) 配置supervisor/nginx/uWSGI</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/logs</span><br><span class="line">$ sudo cp etc/nginx_ljflxxglpt_*.conf /etc/nginx/conf.d/</span><br><span class="line">$ supervisord</span><br></pre></td></tr></table></figure><p>检查supervisor service</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ supervisorctl</span><br></pre></td></tr></table></figure><p>重启nginx</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo service nginx restart</span><br></pre></td></tr></table></figure><hr><h2 id="web服务器配置"><a href="#web服务器配置" class="headerlink" title="web服务器配置"></a>web服务器配置</h2><h3 id="1-安装node-js"><a href="#1-安装node-js" class="headerlink" title="(1) 安装node.js"></a>(1) 安装node.js</h3><blockquote><p>参考官方教程：<a href="https://nodejs.org/en/download/package-manager/" target="_blank" rel="noopener">https://nodejs.org/en/download/package-manager/</a></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ curl --silent --location https://rpm.nodesource.com/setup | bash -</span><br><span class="line">$ yum -y install nodejs</span><br><span class="line">$ yum install gcc-c++ make</span><br><span class="line"># or: yum groupinstall &apos;Development Tools&apos;</span><br></pre></td></tr></table></figure><h3 id="2-安装npm"><a href="#2-安装npm" class="headerlink" title="(2) 安装npm"></a>(2) 安装npm</h3><blockquote><p>新版本的node.js已经自带了npm所以这步可以省略<br><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">https://nodejs.org/en/download/</a></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install npm</span><br></pre></td></tr></table></figure><h3 id="3-安装bower"><a href="#3-安装bower" class="headerlink" title="(3) 安装bower"></a>(3) 安装bower</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo npm install -g bower</span><br></pre></td></tr></table></figure><h3 id="4-安装gulp"><a href="#4-安装gulp" class="headerlink" title="(4) 安装gulp"></a>(4) 安装gulp</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo npm install -g gulp</span><br></pre></td></tr></table></figure><h3 id="5-安装node-modules"><a href="#5-安装node-modules" class="headerlink" title="(5) 安装node modules"></a>(5) 安装node modules</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br></pre></td></tr></table></figure><h3 id="6-安装bower-components"><a href="#6-安装bower-components" class="headerlink" title="(6) 安装bower components"></a>(6) 安装bower components</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower install --allow-root</span><br></pre></td></tr></table></figure><h3 id="7-编译"><a href="#7-编译" class="headerlink" title="(7) 编译"></a>(7) 编译</h3><blockquote><p>测试环境</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gulp serve:dev</span><br></pre></td></tr></table></figure><blockquote><p>生产环境</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gulp serve:prod</span><br></pre></td></tr></table></figure><hr><h2 id="3-服务器supervisord自启动"><a href="#3-服务器supervisord自启动" class="headerlink" title="3. 服务器supervisord自启动"></a>3. 服务器supervisord自启动</h2><h3 id="1-拷贝supervisord文件到-etc-rc-d-init-d-supervisord"><a href="#1-拷贝supervisord文件到-etc-rc-d-init-d-supervisord" class="headerlink" title="(1) 拷贝supervisord文件到/etc/rc.d/init.d/supervisord"></a>(1) 拷贝supervisord文件到/etc/rc.d/init.d/supervisord</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cp supervisord /etc/rc.d/init.d/supervisord</span><br></pre></td></tr></table></figure><h3 id="2-改变supervisord文件全选为可执行"><a href="#2-改变supervisord文件全选为可执行" class="headerlink" title="(2) 改变supervisord文件全选为可执行"></a>(2) 改变supervisord文件全选为可执行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chmod +x /etc/rc.d/init.d/supervisord</span><br></pre></td></tr></table></figure><h3 id="3-添加自启动"><a href="#3-添加自启动" class="headerlink" title="(3) 添加自启动"></a>(3) 添加自启动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chkconfig supervisord on</span><br></pre></td></tr></table></figure><h3 id="4-手动启动supervisord"><a href="#4-手动启动supervisord" class="headerlink" title="(4) 手动启动supervisord"></a>(4) 手动启动supervisord</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo service supervisord start</span><br></pre></td></tr></table></figure><h3 id="5-centos-7-nginx自动启动"><a href="#5-centos-7-nginx自动启动" class="headerlink" title="(5) centos 7 nginx自动启动"></a>(5) centos 7 nginx自动启动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl list-unit-files</span><br><span class="line">$ systemctl enable nginx.service</span><br></pre></td></tr></table></figure><hr><h2 id="4-服务器常见问题"><a href="#4-服务器常见问题" class="headerlink" title="4. 服务器常见问题"></a>4. 服务器常见问题</h2><h3 id="1-nginx-403-Forbidden-errors"><a href="#1-nginx-403-Forbidden-errors" class="headerlink" title="(1) nginx 403 Forbidden errors"></a>(1) nginx 403 Forbidden errors</h3><blockquote><p>通常显示403立马都会想到路径配置不对，但是如果检查后发现目录路径没问题那么就是权限问题。修改nginx.conf，头部修改’user root;’，然后重启nginx</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/nginx/nginx.conf</span><br><span class="line">user root;</span><br></pre></td></tr></table></figure></div><blockquote class="post-copyright"><div class="content"><span class="post-time">最后更新时间：<time datetime="2016-12-12T06:32:25.000Z" itemprop="dateUpdated">2016-12-12 14:32:25</time></span><br></div><footer><a href="https://www.mingyugu.com"><img src="//static.mingyugu.com/avatar.jpg-blog.img" alt="Mingyu Gu"> Mingyu Gu</a></footer></blockquote><div class="page-reward"><a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a></div><div class="post-footer"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySql/">MySql</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NodeJs/">NodeJs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul><div class="page-share-wrap"><div class="page-share" id="pageShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.mingyugu.com/centos-settings.html&title=《CentOS配置文档》 — Mingyu's Blog&pic=//static.mingyugu.com/avatar.jpg-blog.img" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.mingyugu.com/centos-settings.html&title=《CentOS配置文档》 — Mingyu's Blog&source=我荒废的今日，正是昨天殒身之人祈求的明日" data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.mingyugu.com/centos-settings.html" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《CentOS配置文档》 — Mingyu's Blog&url=https://www.mingyugu.com/centos-settings.html&via=https://www.mingyugu.com" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.mingyugu.com/centos-settings.html" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle"><i class="icon icon-share-alt icon-lg"></i></a></div></div></div><div class="comments vcomment" id="comments"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter(function(e){return GUEST_INFO.indexOf(e)>-1});new Valine({el:"#comments",notify:!1,verify:!1,appId:"wBoYIgVAaVY6HnNHzCS2yaUa-gzGzoHsz",appKey:"8L8jntqLDAJCYKdefSmrSjlO",avatar:"mm",placeholder:"ヾﾉ≧∀≦)o 来呀！快活呀！~",guest_info:0==guest_info.length?GUEST_INFO:guest_info,pageSize:"10"})</script><nav class="post-nav flex-row flex-justify-between"><div class="waves-block waves-effect prev"><a href="/cogitr-server-doc.html" id="post-prev" class="post-nav-link"><div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div><h4 class="title">Cogitr服务器相关文档(Cogitr server documents)</h4></a></div><div class="waves-block waves-effect next"><a href="/garbage-weighing-api-doc.html" id="post-next" class="post-nav-link"><div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div><h4 class="title">垃圾袋称重箱和云服务器数据交互接口协议</h4></a></div></nav></article><div id="reward" class="page-modal reward-lay"><a class="close" href="javascript:;"><i class="icon icon-close"></i></a><h3 class="reward-title"><i class="icon icon-quote-left"></i> 谢谢大爷赏根辣条~ <i class="icon icon-quote-right"></i></h3><div class="reward-content"><div class="reward-code"><img id="rewardCode" src="//static.mingyugu.com/wechat.png-blog.img" alt="打赏二维码"></div><label class="reward-toggle"><input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="//static.mingyugu.com/wechat.png-blog.img" data-alipay="//static.mingyugu.com/alipay.png-blog.img"><div class="reward-toggle-ctrol"><span class="reward-toggle-item wechat">微信</span> <span class="reward-toggle-label"></span> <span class="reward-toggle-item alipay">支付宝</span></div></label></div></div></div><footer class="footer"><div class="top"><p><span id="busuanzi_container_site_uv" style="display:none">站点总访客数：<span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" style="display:none">站点总访问量：<span id="busuanzi_value_site_pv"></span></span></p><p><span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span></p></div><div class="bottom"><p><span>Mingyu Gu &copy; 2018 - 2021</span> <span><a href="http://www.beian.miit.gov.cn" target="_blank">皖ICP备18011457号-1</a><br>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github
                .com/yscoder/hexo-theme-indigo" target="_blank">indigo</a> Hosted by <a href="https://pages.coding.me">Coding Pages</a></span></p></div></footer></main><div class="mask" id="mask"></div><a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a><div class="global-share" id="globalShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.mingyugu.com/centos-settings.html&title=《CentOS配置文档》 — Mingyu's Blog&pic=//static.mingyugu.com/avatar.jpg-blog.img" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.mingyugu.com/centos-settings.html&title=《CentOS配置文档》 — Mingyu's Blog&source=我荒废的今日，正是昨天殒身之人祈求的明日" data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.mingyugu.com/centos-settings.html" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《CentOS配置文档》 — Mingyu's Blog&url=https://www.mingyugu.com/centos-settings.html&via=https://www.mingyugu.com" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.mingyugu.com/centos-settings.html" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><div class="page-modal wx-share" id="wxShare"><a class="close" href="javascript:;"><i class="icon icon-close"></i></a><p>扫一扫，分享到微信</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACOklEQVR42u3aQW7DMAwF0dz/0i7QvZT5pFrA1GgVJI6tlwVDkfx88Hp+1+r91eLfXb1zeMmQIeO1jHQrq4ftr0l5fG8yZMi4h8Fvt//W6vGre/LXX/YsQ4YMGdtb7zdNQjP/VIYMGTJqAZcfRNOUUYYMGTLSQyxJB9NqGP9Rjp3FZciQ8UJG2hj4z9d/2N+QIUPGSxhPuNIwTZ57YFcyZMgYzSAFr3TkYn992hwNGhIyZMgYykgDX/pprcHJfw4ZMmTcxuAFNV6YS8t2PK0MKnkyZMh4OaOz3U65P91o2qKQIUPGJEYtvduHV35NLbCiqqEMGTIGMUhRLB2D6ITszo8lQ4aM2Yy0QH82vKaH3i/3lyFDxjhGGubSkFq7Jm6aypAhYzSjWHBvHDXTxgAfy5AhQ8YNDBIiTwXc2tBY0N+QIUPGUAYfvKiNaPDSHk8TW/MjMmTIeCGDJ2S8qUnCehp8gxRWhgwZgxj8prwkx4v7aRsV/WPIkCFjNIOHuVoprRaIZciQcTODB7VaGzJtNvDU81OLzTJkyHgtIz3Q7rfLU8B+WrmcGZEhQ8YgBi+u1UJnJ01Mg7IMGTKmMp5w8bSyX84LnitDhozRjE6YOzCD1mhC1P4GZMiQ8V4GP0ySkFor4R0IqTJkyLiAwQttcSHsUGJXbA/IkCHjMkZa3Qo2gQ+9qGooQ4aM6xmdwyqaU8OwZQtThgwZQxmnxlj5pknYDdJKGTJkjGZ0DpDpITYN67xJIEOGjKGMH08fQc/RGKbgAAAAAElFTkSuQmCC" alt="微信分享二维码"></div><script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script><script>var BLOG={ROOT:"/",SHARE:!0,REWARD:!0}</script><script src="/js/main.min.js?v=1.7.2-1"></script><script src="/js/canvas.min.js?v=1.7.2-1"></script><div class="search-panel" id="search-panel"><ul class="search-result" id="search-result"></ul></div><template id="search-tpl"><li class="item"><a href="{path}" class="waves-block waves-effect"><div class="title ellipsis" title="{title}">{title}</div><div class="flex-row flex-middle"><div class="tags ellipsis">{tags}</div><time class="flex-col time">{date}</time></div></a></li></template><script src="/js/search.min.js?v=1.7.2-1" async></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//unpkg.com/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="//unpkg.com/meting@1.1.1/dist/Meting.min.js"></script><script>!function(){var t,e=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="( ′◔ ‸◔`)去哪里了！",clearTimeout(t)):(document.title="(つェ⊂)咦!又好了!",t=setTimeout(function(){document.title=e},2e3))})}()</script></body></html><!-- rebuild by neat -->